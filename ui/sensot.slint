
import { HorizontalBox, VerticalBox } from "std-widgets.slint";
import { Thermometre } from "thermometre.slint";

// Component to display a single temperature sensor's data
export component Sensor {
    // Display name of the sensor (e.g., "Top Tank")
    in property <string> name;
    // Current temperature value
    in property <float> value;
    // SVG path data for the 24-hour history graph
    in property <string> history_path: "M 0 100 L 95 100";

    Rectangle {
        border-color: gray;
        border-width: 1px;
        HorizontalBox {
            // Visual indicator
            Thermometre {
                height: 60px;
                width: 40px;
            }
            
            // Name and value container
            VerticalBox {
                min-width: 80px;
                Text {
                    text: name;
                    color: white;
                    font-size: 12pt;
                }
                
                // Instantaneous value in Celsius
                Text {
                    text: "\{value}Â°C";
                    color: white;
                    font-size: 12pt;
                }
            }
            
            // 24-hour trend graph
            Rectangle {
                background: black;
                min-width: 150px;
                Path {
                    width: 100%;
                    height: 100%;
                    viewbox-width: 95;
                    viewbox-height: 100;
                    stroke: blue;
                    stroke-width: 2px;
                    commands: history-path;
                }
            }
        }
    }
}
